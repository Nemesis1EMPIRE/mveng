<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mveng — Activités extracitadines & organisateurs locaux</title>
    <meta name="description" content="Découvrez des activités extracitadines avec mveng : randonnées, ateliers créatifs, balades en mer et sorties nature avec des professionnels locaux.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
    <style>
        /* Variables CSS premium */
        :root {
            --primary-green: #2B7A4B;
            --secondary-green: #8FD19E;
            --dark-green: #1e5631;
            --light-green: #E8F5E9;
            --accent-gold: #D4AF37;
            --dark-gold: #B8860B;
            --off-white: #FAFAF8;
            --light-gray: #f5f5f5;
            --medium-gray: #e0e0e0;
            --dark-gray: #333333;
            --text-gray: #555555;
            --border-radius: 16px;
            --border-radius-sm: 8px;
            --border-radius-lg: 24px;
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 20px 60px rgba(0, 0, 0, 0.15);
            --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.05);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --transition-fast: all 0.2s ease;
            --transition-slow: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Dark mode variables */
        @media (prefers-color-scheme: dark) {
            :root {
                --off-white: #121212;
                --light-gray: #1e1e1e;
                --dark-gray: #f5f5f5;
                --text-gray: #cccccc;
                --shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                --shadow-hover: 0 20px 60px rgba(0, 0, 0, 0.4);
                --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.2);
            }
        }

        /* Reset et styles de base premium */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            color: var(--text-gray);
            background-color: var(--off-white);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }

        h1 {
            font-size: 3.5rem;
            letter-spacing: -0.5px;
        }

        h2 {
            font-size: 2.5rem;
            position: relative;
            display: inline-block;
        }

        h3 {
            font-size: 1.75rem;
        }

        h4 {
            font-size: 1.25rem;
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.05rem;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition-fast);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: var(--border-radius-sm);
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .container-sm {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        section {
            padding: 6rem 0;
            position: relative;
        }

        .section-sm {
            padding: 4rem 0;
        }

        /* Animations premium */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                transform: translateY(30px); 
                opacity: 0; 
            }
            to { 
                transform: translateY(0); 
                opacity: 1; 
            }
        }

        @keyframes slideInLeft {
            from { 
                transform: translateX(-30px); 
                opacity: 0; 
            }
            to { 
                transform: translateX(0); 
                opacity: 1; 
            }
        }

        @keyframes slideInRight {
            from { 
                transform: translateX(30px); 
                opacity: 0; 
            }
            to { 
                transform: translateX(0); 
                opacity: 1; 
            }
        }

        @keyframes scaleIn {
            from { 
                transform: scale(0.9); 
                opacity: 0; 
            }
            to { 
                transform: scale(1); 
                opacity: 1; 
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        /* Header premium */
        header {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-light);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: var(--transition);
            padding: 1rem 0;
        }

        @media (prefers-color-scheme: dark) {
            header {
                background-color: rgba(18, 18, 18, 0.95);
            }
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-green);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: var(--transition);
            position: relative;
        }

        .logo::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-green), var(--secondary-green));
            transition: width 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .logo:hover::after {
            width: 100%;
        }

        .logo-icon {
            font-size: 1.8rem;
            color: var(--accent-gold);
            animation: float 3s ease-in-out infinite;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-menu li {
            position: relative;
        }

        .nav-link {
            font-weight: 500;
            padding: 0.5rem 0;
            position: relative;
            color: var(--text-gray);
            font-size: 1.05rem;
            transition: var(--transition-fast);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-green), var(--accent-gold));
            transition: width 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary-green);
        }

        .nav-cta {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(43, 122, 75, 0.3);
            transition: var(--transition);
        }

        .nav-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(43, 122, 75, 0.4);
        }

        .hamburger {
            display: none;
            cursor: pointer;
            width: 30px;
            height: 30px;
            position: relative;
            z-index: 1001;
        }

        .hamburger span {
            display: block;
            width: 100%;
            height: 3px;
            background: var(--primary-green);
            border-radius: 3px;
            transition: var(--transition);
            position: absolute;
            left: 0;
        }

        .hamburger span:nth-child(1) { top: 0; }
        .hamburger span:nth-child(2) { top: 10px; }
        .hamburger span:nth-child(3) { top: 20px; }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg);
            top: 10px;
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg);
            top: 10px;
        }

        /* Hero section premium */
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.4)),
                        url('https://images.unsplash.com/photo-1501555088652-021faa106b9b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80') no-repeat center center/cover;
            color: white;
            padding-top: 80px;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(43, 122, 75, 0.2), rgba(212, 175, 55, 0.1));
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            animation: slideUp 1s cubic-bezier(0.16, 1, 0.3, 1) 0.2s both;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            background: linear-gradient(to right, #ffffff, var(--secondary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .hero-subtitle {
            font-size: 1.4rem;
            margin-bottom: 2.5rem;
            opacity: 0.9;
            font-weight: 300;
            max-width: 600px;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-top: 3rem;
        }

        /* Boutons premium */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1.1rem 2.2rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.05rem;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            outline: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transition: width 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            z-index: -1;
        }

        .btn:hover::before {
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            box-shadow: 0 8px 25px rgba(43, 122, 75, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(43, 122, 75, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: white;
            transform: translateY(-5px);
        }

        .btn-accent {
            background: linear-gradient(135deg, var(--accent-gold), var(--dark-gold));
            color: white;
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
        }

        .btn-accent:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-outline:hover {
            background: var(--primary-green);
            color: white;
            transform: translateY(-3px);
        }

        .btn-small {
            padding: 0.7rem 1.5rem;
            font-size: 0.95rem;
        }

        .btn-icon {
            font-size: 1.2rem;
        }

        /* Section Recherche premium */
        .search-section {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 4rem;
            box-shadow: var(--shadow);
            margin-top: -100px;
            position: relative;
            z-index: 10;
            animation: scaleIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.5s both;
        }

        @media (prefers-color-scheme: dark) {
            .search-section {
                background: var(--light-gray);
            }
        }

        .section-title {
            text-align: center;
            margin-bottom: 3.5rem;
            position: relative;
        }

        .section-title span {
            color: var(--primary-green);
            position: relative;
            display: inline-block;
        }

        .section-title span::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--accent-gold));
            border-radius: 2px;
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-gray);
            max-width: 600px;
            margin: 0 auto 4rem;
            font-size: 1.1rem;
        }

        .search-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .search-bar {
            display: flex;
            margin-bottom: 2.5rem;
            border-radius: 50px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .search-bar:focus-within {
            box-shadow: 0 8px 30px rgba(43, 122, 75, 0.2);
            transform: translateY(-2px);
        }

        .search-input {
            flex: 1;
            padding: 1.2rem 1.8rem;
            border: none;
            font-size: 1.1rem;
            background: white;
            color: var(--dark-gray);
        }

        @media (prefers-color-scheme: dark) {
            .search-input {
                background: #2a2a2a;
                color: var(--text-gray);
            }
        }

        .search-input:focus {
            outline: none;
        }

        .search-btn {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            border: none;
            padding: 0 2.5rem;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .search-btn:hover {
            background: linear-gradient(135deg, var(--dark-green), var(--primary-green));
        }

        .filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-gray);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filter-select {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            background-color: white;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition-fast);
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%232B7A4B' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        @media (prefers-color-scheme: dark) {
            .filter-select {
                background-color: #2a2a2a;
                border-color: #444;
                color: var(--text-gray);
            }
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(43, 122, 75, 0.1);
        }

        .sorting {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            padding-top: 2rem;
            border-top: 1px solid var(--medium-gray);
        }

        .results-count {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary-green);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sort-options {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .sort-btn {
            background: none;
            border: 2px solid var(--medium-gray);
            color: var(--text-gray);
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            padding: 0.6rem 1.2rem;
            border-radius: 30px;
            font-weight: 500;
        }

        .sort-btn.active {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(43, 122, 75, 0.2);
        }

        .sort-btn:hover:not(.active) {
            border-color: var(--primary-green);
            color: var(--primary-green);
            transform: translateY(-2px);
        }

        /* Grille premium */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
        }

        /* Cartes d'activités premium */
        .activity-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: scaleIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        @media (prefers-color-scheme: dark) {
            .activity-card {
                background: #2a2a2a;
            }
        }

        .activity-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--accent-gold));
            z-index: 1;
        }

        .activity-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .card-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, var(--accent-gold), var(--dark-gold));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .card-img-container {
            height: 220px;
            overflow: hidden;
            position: relative;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition-slow);
            border-radius: 0;
        }

        .activity-card:hover .card-img {
            transform: scale(1.1);
        }

        .card-content {
            padding: 2rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-gray);
        }

        .card-description {
            color: var(--text-gray);
            margin-bottom: 1.5rem;
            font-size: 1rem;
            line-height: 1.6;
            flex: 1;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .card-duration, .card-price, .card-location {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .card-price {
            color: var(--primary-green);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .tag {
            background: rgba(43, 122, 75, 0.1);
            color: var(--primary-green);
            padding: 0.4rem 0.9rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            transition: var(--transition-fast);
        }

        .tag:hover {
            background: rgba(43, 122, 75, 0.2);
            transform: translateY(-1px);
        }

        .card-footer {
            margin-top: auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .card-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            padding: 0.9rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            outline: none;
            flex: 1;
        }

        .card-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(43, 122, 75, 0.3);
        }

        .card-favorite {
            background: none;
            border: 2px solid var(--medium-gray);
            color: var(--text-gray);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .card-favorite.active {
            color: #ff4757;
            border-color: #ff4757;
        }

        .card-favorite:hover {
            background: rgba(255, 71, 87, 0.1);
            border-color: #ff4757;
        }

        /* Cartes d'entreprises premium */
        .company-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: scaleIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
            position: relative;
            overflow: hidden;
        }

        @media (prefers-color-scheme: dark) {
            .company-card {
                background: #2a2a2a;
            }
        }

        .company-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--accent-gold));
        }

        .company-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .company-logo-container {
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            background: white;
            padding: 10px;
        }

        .company-logo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .company-name {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-gray);
        }

        .company-description {
            color: var(--text-gray);
            margin-bottom: 1.5rem;
            font-size: 1rem;
            line-height: 1.6;
        }

        .company-rating {
            margin-bottom: 1.5rem;
            color: #FFC107;
            font-size: 1.2rem;
        }

        /* Section caractéristiques */
        .features-section {
            background: linear-gradient(135deg, rgba(43, 122, 75, 0.05), rgba(212, 175, 55, 0.05));
            padding: 6rem 0;
            position: relative;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: white;
            padding: 2.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
        }

        @media (prefers-color-scheme: dark) {
            .feature-card {
                background: #2a2a2a;
            }
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            color: white;
            box-shadow: 0 10px 30px rgba(43, 122, 75, 0.2);
        }

        /* Témoignages */
        .testimonials-section {
            background: var(--light-green);
            padding: 6rem 0;
        }

        @media (prefers-color-scheme: dark) {
            .testimonials-section {
                background: #1a1a1a;
            }
        }

        .testimonial-slider {
            max-width: 800px;
            margin: 3rem auto 0;
        }

        .testimonial-card {
            background: white;
            padding: 3rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
        }

        @media (prefers-color-scheme: dark) {
            .testimonial-card {
                background: #2a2a2a;
            }
        }

        .testimonial-card::before {
            content: '"';
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            font-family: 'Playfair Display', serif;
        }

        /* Galerie premium */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
        }

        .gallery-item {
            border-radius: var(--border-radius);
            overflow: hidden;
            height: 300px;
            position: relative;
            cursor: pointer;
            animation: scaleIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
        }

        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition-slow);
        }

        .gallery-item:hover .gallery-img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            padding: 2rem;
            color: white;
            transform: translateY(100%);
            transition: var(--transition);
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        .gallery-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .gallery-category {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Formulaire de contact premium */
        .contact-form {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.2s both;
        }

        @media (prefers-color-scheme: dark) {
            .contact-form {
                background: #2a2a2a;
            }
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.7rem;
            font-weight: 500;
            color: var(--dark-gray);
            font-size: 1rem;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 1.1rem 1.5rem;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition-fast);
            background: white;
            color: var(--dark-gray);
        }

        @media (prefers-color-scheme: dark) {
            .form-input, .form-textarea, .form-select {
                background: #1e1e1e;
                border-color: #444;
                color: var(--text-gray);
            }
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(43, 122, 75, 0.1);
        }

        .form-textarea {
            min-height: 180px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .required {
            color: #ff4757;
        }

        /* Pages de détail premium */
        .detail-page {
            padding: 0;
            min-height: 100vh;
            background: white;
        }

        @media (prefers-color-scheme: dark) {
            .detail-page {
                background: #1e1e1e;
            }
        }

        .profile-header {
            position: relative;
            height: 400px;
            overflow: hidden;
        }

        .profile-back-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            color: var(--primary-green);
            font-size: 1.5rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        @media (prefers-color-scheme: dark) {
            .profile-back-btn {
                background: rgba(30, 30, 30, 0.95);
            }
        }

        .profile-back-btn:hover {
            transform: translateX(-5px);
            background: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .profile-hero-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-content {
            padding: 3rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .profile-title {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            color: var(--dark-gray);
        }

        .profile-meta {
            display: flex;
            gap: 2.5rem;
            margin-bottom: 2.5rem;
            color: var(--text-gray);
            flex-wrap: wrap;
        }

        .profile-description {
            margin-bottom: 3rem;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .profile-section {
            margin-bottom: 4rem;
        }

        .profile-section-title {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: var(--dark-gray);
            display: flex;
            align-items: center;
            gap: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light-gray);
        }

        .profile-section-title i {
            color: var(--primary-green);
            font-size: 1.5rem;
        }

        .partner-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .partner-card {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: var(--light-gray);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        @media (prefers-color-scheme: dark) {
            .partner-card {
                background: #2a2a2a;
            }
        }

        .partner-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .partner-logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--secondary-green);
            padding: 3px;
            background: white;
        }

        .partner-info {
            flex: 1;
        }

        .partner-info h4 {
            margin-bottom: 0.5rem;
            color: var(--dark-gray);
        }

        .partner-info p {
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
            color: var(--text-gray);
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 1.2rem;
            padding: 1.5rem;
            background: var(--light-gray);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        @media (prefers-color-scheme: dark) {
            .contact-item {
                background: #2a2a2a;
            }
        }

        .contact-item:hover {
            transform: translateY(-3px);
            background: var(--light-green);
        }

        .contact-item i {
            color: var(--primary-green);
            font-size: 1.5rem;
            width: 30px;
        }

        /* Footer premium */
        footer {
            background: linear-gradient(135deg, var(--dark-green), #0a2915);
            color: white;
            padding: 5rem 0 2rem;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-gold), var(--primary-green));
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .footer-col h3 {
            color: white;
            margin-bottom: 2rem;
            font-size: 1.3rem;
            position: relative;
            padding-bottom: 0.8rem;
        }

        .footer-col h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--accent-gold);
        }

        .footer-col p {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 1rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-links a:hover {
            color: white;
            transform: translateX(5px);
        }

        .footer-social {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .social-link:hover {
            background: var(--accent-gold);
            transform: translateY(-3px);
        }

        .newsletter-form {
            display: flex;
            margin-top: 1rem;
        }

        .newsletter-input {
            flex: 1;
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: 30px 0 0 30px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .newsletter-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }

        .newsletter-btn {
            background: var(--accent-gold);
            color: white;
            border: none;
            padding: 0 1.5rem;
            border-radius: 0 30px 30px 0;
            cursor: pointer;
            transition: var(--transition);
        }

        .newsletter-btn:hover {
            background: var(--dark-gold);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        /* Modal premium */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        @media (prefers-color-scheme: dark) {
            .modal-content {
                background: #2a2a2a;
            }
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-gray);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .modal-close:hover {
            color: var(--primary-green);
            transform: rotate(90deg);
        }

        .modal-title {
            margin-bottom: 1.5rem;
            color: var(--dark-gray);
        }

        /* Loading skeleton */
        .skeleton {
            background: linear-gradient(90deg, var(--light-gray) 25%, #e8e8e8 50%, var(--light-gray) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: var(--border-radius-sm);
        }

        /* Scroll to top */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 999;
            box-shadow: 0 5px 20px rgba(43, 122, 75, 0.3);
        }

        .scroll-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(43, 122, 75, 0.4);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: white;
            padding: 1.5rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-hover);
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateX(150%);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 2000;
            max-width: 350px;
        }

        @media (prefers-color-scheme: dark) {
            .notification {
                background: #2a2a2a;
            }
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* Responsive design premium */
        @media (max-width: 1200px) {
            .container {
                padding: 0 1.5rem;
            }
            
            h1 {
                font-size: 3rem;
            }
            
            h2 {
                font-size: 2.2rem;
            }
            
            .grid {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .search-section {
                padding: 3rem 2rem;
                margin-top: -60px;
            }
            
            .hero-title {
                font-size: 2.8rem;
            }
            
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: block;
            }

            .nav-menu {
                position: fixed;
                top: 0;
                right: -100%;
                flex-direction: column;
                background: white;
                width: 300px;
                height: 100vh;
                padding: 6rem 2rem 2rem;
                transition: 0.6s cubic-bezier(0.16, 1, 0.3, 1);
                box-shadow: -10px 0 40px rgba(0, 0, 0, 0.1);
                z-index: 100;
            }

            @media (prefers-color-scheme: dark) {
                .nav-menu {
                    background: #1e1e1e;
                }
            }

            .nav-menu.active {
                right: 0;
            }

            .nav-menu li {
                margin: 0 0 1.5rem 0;
            }

            .nav-cta {
                margin-top: 1rem;
                display: inline-block;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.2rem;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }

            .search-section {
                padding: 2.5rem 1.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .filters {
                grid-template-columns: 1fr;
            }

            .sorting {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .profile-header {
                height: 300px;
            }

            .profile-title {
                font-size: 2.2rem;
            }

            .profile-meta {
                flex-direction: column;
                gap: 1rem;
            }

            .contact-form {
                padding: 2rem 1.5rem;
            }

            .footer-container {
                grid-template-columns: 1fr;
                gap: 3rem;
            }
        }

        @media (max-width: 576px) {
            section {
                padding: 4rem 0;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .search-section {
                padding: 2rem 1rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .search-bar {
                flex-direction: column;
                border-radius: var(--border-radius);
            }
            
            .search-input {
                border-radius: var(--border-radius) var(--border-radius) 0 0;
            }
            
            .search-btn {
                border-radius: 0 0 var(--border-radius) var(--border-radius);
                padding: 1rem;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                padding: 2rem 1.5rem;
                width: 95%;
            }
        }

        /* États */
        .no-results {
            text-align: center;
            padding: 5rem 2rem;
            color: var(--text-gray);
            font-size: 1.1rem;
            grid-column: 1 / -1;
        }

        .no-results i {
            font-size: 4rem;
            margin-bottom: 2rem;
            color: var(--medium-gray);
            opacity: 0.5;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-gray);
        }

        /* Dark mode toggle */
        .theme-toggle {
            position: relative;
            width: 50px;
            height: 26px;
            background: var(--medium-gray);
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 1rem;
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .theme-toggle.active {
            background: var(--primary-green);
        }

        .theme-toggle.active::before {
            transform: translateX(24px);
        }

        .theme-toggle i {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
            color: white;
        }

        .theme-toggle i.fa-sun {
            left: 6px;
        }

        .theme-toggle i.fa-moon {
            right: 6px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo" id="homeLogo">
                <i class="fas fa-mountain logo-icon"></i>
                <span>mveng</span>
            </a>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#" class="nav-link active" data-page="home">Accueil</a></li>
                <li><a href="#" class="nav-link" data-page="activities">Activités</a></li>
                <li><a href="#" class="nav-link" data-page="companies">Entreprises</a></li>
                <li><a href="#" class="nav-link" data-page="gallery">Galerie</a></li>
                <li><a href="#" class="nav-link" data-page="contact">Contact</a></li>
                <li><a href="#" class="nav-link nav-cta" data-page="contact">Réserver</a></li>
                <li>
                    <div class="theme-toggle" id="themeToggle">
                        <i class="fas fa-sun"></i>
                        <i class="fas fa-moon"></i>
                    </div>
                </li>
            </ul>
            
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Page d'accueil -->
    <div id="homePage" class="page active">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">mveng — Explorez la nature autrement</h1>
                    <p class="hero-subtitle">Randonnées guidées, ateliers créatifs, balades en mer et sorties nature avec des professionnels locaux passionnés.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" data-page="activities">
                            <i class="fas fa-hiking btn-icon"></i> Découvrir les activités
                        </button>
                        <button class="btn btn-secondary" data-page="companies">
                            <i class="fas fa-building btn-icon"></i> Voir les organisateurs
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Recherche -->
        <section class="section-sm">
            <div class="container">
                <div class="search-section">
                    <h2 class="section-title">Trouvez votre <span>aventure</span></h2>
                    <p class="section-subtitle">Recherchez parmi nos activités et filtrez selon vos préférences</p>
                    
                    <div class="search-container">
                        <div class="search-bar">
                            <input type="text" class="search-input" id="searchInput" placeholder="Randonnée, atelier, mer, VTT...">
                            <button class="search-btn" id="searchBtn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        
                        <div class="filters">
                            <div class="filter-group">
                                <label for="type">Type d'activité</label>
                                <select id="type" class="filter-select">
                                    <option value="">Tous les types</option>
                                    <option value="randonnee">Randonnée</option>
                                    <option value="atelier">Atelier créatif</option>
                                    <option value="mer">Balade en mer</option>
                                    <option value="vtt">VTT</option>
                                    <option value="camping">Camping</option>
                                    <option value="yoga">Yoga & bien-être</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="duree">Durée</label>
                                <select id="duree" class="filter-select">
                                    <option value="">Toutes les durées</option>
                                    <option value="2">Moins de 4h</option>
                                    <option value="4">4h ou plus</option>
                                    <option value="8">Journée complète</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="prix">Budget</label>
                                <select id="prix" class="filter-select">
                                    <option value="">Tous les budgets</option>
                                    <option value="20">Moins de 20€</option>
                                    <option value="50">20-50€</option>
                                    <option value="100">50-100€</option>
                                    <option value="101">Plus de 100€</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="localisation">Région</label>
                                <select id="localisation" class="filter-select">
                                    <option value="">Toutes les régions</option>
                                    <option value="bretagne">Bretagne</option>
                                    <option value="provence">Provence</option>
                                    <option value="pyrenees">Pyrénées</option>
                                    <option value="alpes">Alpes</option>
                                    <option value="jura">Jura</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="sorting">
                            <div class="results-count" id="resultsCount">
                                <i class="fas fa-search"></i> <span id="resultsNumber">9</span> activités disponibles
                            </div>
                            <div class="sort-options">
                                <button class="sort-btn active" data-sort="popularity">
                                    <i class="fas fa-fire"></i> Popularité
                                </button>
                                <button class="sort-btn" data-sort="price-asc">
                                    <i class="fas fa-euro-sign"></i> Prix croissant
                                </button>
                                <button class="sort-btn" data-sort="price-desc">
                                    <i class="fas fa-euro-sign"></i> Prix décroissant
                                </button>
                                <button class="sort-btn" data-sort="duration">
                                    <i class="fas fa-clock"></i> Durée
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Activités en vedette -->
        <section class="section-sm">
            <div class="container">
                <h2 class="section-title">Activités <span>en vedette</span></h2>
                <p class="section-subtitle">Nos expériences les plus populaires et les mieux notées</p>
                <div class="grid" id="featuredActivities">
                    <!-- Les activités vedettes seront générées par JavaScript -->
                </div>
            </div>
        </section>

        <!-- Caractéristiques -->
        <section class="features-section">
            <div class="container">
                <h2 class="section-title">Pourquoi <span>choisir mveng</span></h2>
                <p class="section-subtitle">Une expérience unique pour vos aventures en pleine nature</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Sécurité garantie</h3>
                        <p>Tous nos organisateurs sont certifiés et suivent des protocoles stricts pour votre sécurité.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h3>Écoresponsable</h3>
                        <p>Nous privilégions les pratiques durables et respectueuses de l'environnement.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Communauté locale</h3>
                        <p>Nous travaillons exclusivement avec des guides et entreprises locales passionnées.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3>Qualité premium</h3>
                        <p>Chaque activité est soigneusement sélectionnée pour garantir une expérience mémorable.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Témoignages -->
        <section class="testimonials-section">
            <div class="container">
                <h2 class="section-title">Ils ont <span>adoré l'expérience</span></h2>
                <p class="section-subtitle">Découvrez les avis de nos aventuriers</p>
                
                <div class="testimonial-slider">
                    <div class="testimonial-card">
                        <p>"Une randonnée inoubliable dans les Alpes avec un guide exceptionnel. La vue au sommet valait tous les efforts !"</p>
                        <div style="margin-top: 2rem;">
                            <h4>Marie L.</h4>
                            <div style="color: #FFC107; margin-top: 0.5rem;">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Page Activités -->
    <div id="activitiesPage" class="page activities-page">
        <section class="section-sm">
            <div class="container">
                <h1 class="section-title">Toutes nos <span>activités</span></h1>
                <p class="section-subtitle">Découvrez notre sélection d'activités extracitadines pour tous les goûts et tous les niveaux.</p>
                
                <div class="sorting" style="margin-bottom: 2rem;">
                    <div class="results-count" id="activitiesResultsCount">
                        <i class="fas fa-hiking"></i> <span id="activitiesNumber">9</span> activités disponibles
                    </div>
                    <div class="sort-options">
                        <button class="sort-btn active" data-sort="popularity">
                            <i class="fas fa-fire"></i> Popularité
                        </button>
                        <button class="sort-btn" data-sort="price-asc">
                            <i class="fas fa-euro-sign"></i> Prix croissant
                        </button>
                        <button class="sort-btn" data-sort="price-desc">
                            <i class="fas fa-euro-sign"></i> Prix décroissant
                        </button>
                        <button class="sort-btn" data-sort="duration">
                            <i class="fas fa-clock"></i> Durée
                        </button>
                    </div>
                </div>
                
                <div class="grid" id="allActivitiesGrid">
                    <!-- Toutes les activités seront générées par JavaScript -->
                </div>
            </div>
        </section>
    </div>

    <!-- Page Entreprises -->
    <div id="companiesPage" class="page companies-page">
        <section class="section-sm">
            <div class="container">
                <h1 class="section-title">Nos <span>organisateurs locaux</span></h1>
                <p class="section-subtitle">Des professionnels passionnés pour vous accompagner dans vos aventures.</p>
                
                <div class="grid grid-2" id="allCompaniesGrid">
                    <!-- Toutes les entreprises seront générées par JavaScript -->
                </div>
            </div>
        </section>
    </div>

    <!-- Page Galerie -->
    <div id="galleryPage" class="page gallery-page">
        <section class="section-sm">
            <div class="container">
                <h1 class="section-title">Notre <span>galerie</span></h1>
                <p class="section-subtitle">Captures d'instants magiques partagés avec nos partenaires et participants.</p>
                
                <div class="gallery-grid" id="galleryGrid">
                    <!-- La galerie sera générée par JavaScript -->
                </div>
            </div>
        </section>
    </div>

    <!-- Page Contact -->
    <div id="contactPage" class="page contact-page">
        <section class="section-sm">
            <div class="container">
                <h1 class="section-title">Nous <span>contacter</span></h1>
                <p class="section-subtitle">Une question ? Une suggestion ? N'hésitez pas à nous écrire !</p>
                
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name" class="form-label">Nom <span class="required">*</span></label>
                                <input type="text" id="name" class="form-input" placeholder="Votre nom" required>
                            </div>
                            <div class="form-group">
                                <label for="email" class="form-label">Email <span class="required">*</span></label>
                                <input type="email" id="email" class="form-input" placeholder="Votre adresse email" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject" class="form-label">Sujet</label>
                            <select id="subject" class="form-select">
                                <option value="">Choisissez un sujet</option>
                                <option value="info">Demande d'information</option>
                                <option value="booking">Réservation</option>
                                <option value="partner">Devenir partenaire</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" class="form-label">Message <span class="required">*</span></label>
                            <textarea id="message" class="form-textarea" placeholder="Votre message..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <input type="checkbox" id="newsletter" style="width: auto;">
                                <label for="newsletter" style="margin: 0; font-weight: normal;">
                                    Je souhaite m'abonner à la newsletter pour recevoir les nouvelles activités
                                </label>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-paper-plane btn-icon"></i> Envoyer le message
                        </button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <!-- Pages de détail -->
    <div id="activityDetailPage" class="page detail-page">
        <div class="profile-header">
            <button class="profile-back-btn" id="backFromActivityDetail">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div id="activityHeroImage"></div>
        </div>
        <div class="profile-content" id="activityProfile">
            <!-- Contenu généré par JavaScript -->
        </div>
    </div>

    <div id="companyDetailPage" class="page detail-page">
        <div class="profile-header">
            <button class="profile-back-btn" id="backFromCompanyDetail">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div id="companyHeroImage"></div>
        </div>
        <div class="profile-content" id="companyProfile">
            <!-- Contenu généré par JavaScript -->
        </div>
    </div>

    <!-- Modal de réservation -->
    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <button class="modal-close" id="closeBookingModal">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="modal-title" id="bookingActivityTitle"></h3>
            <form id="bookingForm">
                <div class="form-group">
                    <label for="bookingDate" class="form-label">Date souhaitée <span class="required">*</span></label>
                    <input type="date" id="bookingDate" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="bookingParticipants" class="form-label">Nombre de participants <span class="required">*</span></label>
                    <select id="bookingParticipants" class="form-select" required>
                        <option value="">Choisissez</option>
                        <option value="1">1 personne</option>
                        <option value="2">2 personnes</option>
                        <option value="3">3 personnes</option>
                        <option value="4">4 personnes</option>
                        <option value="5">5 personnes</option>
                        <option value="6">6 personnes ou plus</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="bookingName" class="form-label">Nom complet <span class="required">*</span></label>
                    <input type="text" id="bookingName" class="form-input" placeholder="Votre nom" required>
                </div>
                
                <div class="form-group">
                    <label for="bookingEmail" class="form-label">Email <span class="required">*</span></label>
                    <input type="email" id="bookingEmail" class="form-input" placeholder="Votre email" required>
                </div>
                
                <div class="form-group">
                    <label for="bookingPhone" class="form-label">Téléphone</label>
                    <input type="tel" id="bookingPhone" class="form-input" placeholder="Votre numéro">
                </div>
                
                <div class="form-group">
                    <label for="bookingMessage" class="form-label">Message (optionnel)</label>
                    <textarea id="bookingMessage" class="form-textarea" placeholder="Informations supplémentaires..."></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-calendar-check btn-icon"></i> Confirmer la réservation
                </button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>mveng</h3>
                    <p>Découvrez des activités extracitadines avec des professionnels locaux. Randonnées, ateliers créatifs, balades en mer et bien plus encore.</p>
                    <div class="footer-social">
                        <a href="#" class="social-link">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-pinterest"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Navigation</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link" data-page="home"><i class="fas fa-chevron-right"></i> Accueil</a></li>
                        <li><a href="#" class="footer-link" data-page="activities"><i class="fas fa-chevron-right"></i> Activités</a></li>
                        <li><a href="#" class="footer-link" data-page="companies"><i class="fas fa-chevron-right"></i> Entreprises</a></li>
                        <li><a href="#" class="footer-link" data-page="gallery"><i class="fas fa-chevron-right"></i> Galerie</a></li>
                        <li><a href="#" class="footer-link" data-page="contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Catégories</h3>
                    <ul class="footer-links">
                        <li><a href="#" data-filter="randonnee"><i class="fas fa-mountain"></i> Randonnée</a></li>
                        <li><a href="#" data-filter="atelier"><i class="fas fa-paint-brush"></i> Ateliers créatifs</a></li>
                        <li><a href="#" data-filter="mer"><i class="fas fa-ship"></i> Activités nautiques</a></li>
                        <li><a href="#" data-filter="vtt"><i class="fas fa-bicycle"></i> VTT</a></li>
                        <li><a href="#" data-filter="camping"><i class="fas fa-campground"></i> Camping</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Newsletter</h3>
                    <p>Inscrivez-vous pour recevoir nos nouvelles activités en avant-première.</p>
                    <div class="newsletter-form">
                        <input type="email" class="newsletter-input" placeholder="Votre email">
                        <button class="newsletter-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 mveng. Tous droits réservés. | <a href="#" style="color: rgba(255, 255, 255, 0.7);">Mentions légales</a> | <a href="#" style="color: rgba(255, 255, 255, 0.7);">Politique de confidentialité</a></p>
            </div>
        </div>
    </footer>

    <!-- Scroll to top button -->
    <div class="scroll-top" id="scrollTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div>
            <h4 style="margin-bottom: 0.3rem; color: var(--dark-gray);" id="notificationTitle"></h4>
            <p style="margin: 0; font-size: 0.9rem;" id="notificationMessage"></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        // Données améliorées des activités
        const activities = [
            {
                id: 1,
                name: "Randonnée alpine guidée",
                description: "Découvrez les plus beaux sentiers de montagne avec un guide expérimenté.",
                longDescription: "Partez pour une journée inoubliable dans les massifs montagneux de la région. Notre randonnée guidée vous emmène à travers des sentiers préservés, avec des points de vue spectaculaires sur les sommets enneigés et les lacs glaciaires. Le guide partagera avec vous ses connaissances sur la flore alpine, la faune locale et la géologie. Niveau intermédiaire, prévoir de bonnes chaussures de randonnée et une bouteille d'eau.",
                image: "https://images.unsplash.com/photo-1551632811-561732d1e306?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "5h",
                durationValue: 5,
                price: "45€",
                priceValue: 45,
                tags: ["Nature", "Montagne", "Sport", "Découverte"],
                category: "randonnee",
                location: "Alpes",
                popularity: 98,
                difficulty: "Intermédiaire",
                minAge: 12,
                included: ["Guide certifié", "Carte des sentiers", "Encas énergétique"],
                companyIds: [1, 4],
                featured: true,
                heroImage: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 2,
                name: "Atelier de peinture paysagère",
                description: "Laissez parler votre créativité lors d'un atelier de peinture dans un cadre naturel exceptionnel.",
                longDescription: "Inspirez-vous de la beauté des paysages provençaux pour créer votre propre œuvre d'art. Cet atelier est encadré par un artiste peintre professionnel qui vous guidera pas à pas dans les techniques d'aquarelle et de peinture à l'huile. Peu importe votre niveau, débutant ou confirmé, vous repartirez avec votre création. Matériel fourni, peinture écologique, cadre idyllique garanti.",
                image: "https://images.unsplash.com/photo-1544716278-e513176f20b5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "3h",
                durationValue: 3,
                price: "55€",
                priceValue: 55,
                tags: ["Créatif", "Détente", "Nature", "Art"],
                category: "atelier",
                location: "Provence",
                popularity: 92,
                difficulty: "Débutant",
                minAge: 8,
                included: ["Matériel professionnel", "Encadrement artistique", "Toile 40x50cm"],
                companyIds: [2],
                featured: true,
                heroImage: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 3,
                name: "Croisière en catamaran",
                description: "Naviguez le long des côtes bretonnes à bord d'un catamaran confortable.",
                longDescription: "Embarquez pour une journée en mer à bord d'un catamaran de 12 mètres. Notre skipper expérimenté vous fera découvrir les criques secrètes, les arches naturelles et les paysages côtiers magnifiques de la Bretagne. Avec un peu de chance, vous pourrez observer des dauphins, des phoques gris et une variété d'oiseaux marins. Déjeuner breton inclus à bord, avec produits locaux.",
                image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "7h",
                durationValue: 7,
                price: "89€",
                priceValue: 89,
                tags: ["Mer", "Détente", "Aventure", "Gastronomie"],
                category: "mer",
                location: "Bretagne",
                popularity: 95,
                difficulty: "Facile",
                minAge: 6,
                included: ["Skipper diplômé", "Déjeuner breton", "Equipement de sécurité", "Boissons"],
                companyIds: [3],
                featured: true,
                heroImage: "https://images.unsplash.com/photo-1506929562872-bb421503ef21?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 4,
                name: "Descente VTT enduro",
                description: "Parcourez les sentiers techniques en VTT avec un moniteur diplômé.",
                longDescription: "Une descente endiablée à travers les sentiers forestiers des Pyrénées, adaptée aux niveaux intermédiaires et confirmés. Notre moniteur diplômé d'État vous accompagnera tout au long du parcours et vous donnera des conseils techniques pour améliorer votre pilotage. VTT tout-suspendu et équipement de sécurité fournis. Plusieurs parcours disponibles selon votre niveau.",
                image: "https://images.unsplash.com/photo-1574680088814-c9e8a10d8a4d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "4h",
                durationValue: 4,
                price: "65€",
                priceValue: 65,
                tags: ["Sport", "Aventure", "Forêt", "Adrénaline"],
                category: "vtt",
                location: "Pyrénées",
                popularity: 88,
                difficulty: "Intermédiaire",
                minAge: 14,
                included: ["VTT tout-suspendu", "Casque et protections", "Moniteur diplômé", "Transport remontée"],
                companyIds: [1, 5],
                heroImage: "https://images.unsplash.com/photo-1536240478700-b869070f9279?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 5,
                name: "Bivouac en montagne",
                description: "Passez une nuit sous les étoiles en pleine nature.",
                longDescription: "Une expérience unique pour se reconnecter à la nature dans les Alpes. Nous vous apprendrons à monter un campement écologique, à faire un feu sans allumettes, à filtrer de l'eau de source et à vous orienter sans GPS. La nuit se passera sous tente ou à la belle étoile selon vos préférences et la météo. Souper trappeur et petit-déjeuner campagnard inclus.",
                image: "https://images.unsplash.com/photo-1504851149312-7a075b496cc7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "24h",
                durationValue: 24,
                price: "120€",
                priceValue: 120,
                tags: ["Nature", "Aventure", "Survie", "Nuitée"],
                category: "camping",
                location: "Alpes",
                popularity: 82,
                difficulty: "Intermédiaire",
                minAge: 16,
                included: ["Matériel de camping", "Nourriture", "Guide spécialisé", "Assurance"],
                companyIds: [1, 4],
                heroImage: "https://images.unsplash.com/photo-1487730116645-74489c95b41b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 6,
                name: "Observation ornithologique",
                description: "Partez à la découverte de la faune aviaire locale avec un ornithologue passionné.",
                longDescription: "Muni de jumelles professionnelles et d'un guide d'identification, partez à la rencontre des oiseaux des Pyrénées. Notre ornithologue vous fera découvrir les différentes espèces (gypaète barbu, aigle royal, vautour fauve), leurs chants caractéristiques, leurs habitats et leurs comportements. Matériel d'observation fourni, carnet de notes offert.",
                image: "https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "3h",
                durationValue: 3,
                price: "35€",
                priceValue: 35,
                tags: ["Nature", "Découverte", "Faune", "Éducatif"],
                category: "randonnee",
                location: "Pyrénées",
                popularity: 75,
                difficulty: "Facile",
                minAge: 10,
                included: ["Jumelles professionnelles", "Guide ornithologue", "Carnet d'observation"],
                companyIds: [1],
                heroImage: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 7,
                name: "Initiation à l'escalade",
                description: "Découvrez les sensations de l'escalade sur des falaises naturelles sécurisées.",
                longDescription: "Initiation à l'escalade en pleine nature sur des falaises adaptées aux débutants dans le massif du Jura. Nos moniteurs diplômés d'État vous assurent une progression en toute sécurité. Vous apprendrez les techniques de base : nœuds, assurage, déplacement sur paroi. Tout l'équipement technique est fourni : baudrier, cordes, mousquetons, casque, etc.",
                image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "4h",
                durationValue: 4,
                price: "70€",
                priceValue: 70,
                tags: ["Sport", "Aventure", "Montagne", "Technique"],
                category: "randonnee",
                location: "Jura",
                popularity: 85,
                difficulty: "Débutant",
                minAge: 12,
                included: ["Équipement complet", "Moniteur diplômé", "Assurance", "Photos"],
                companyIds: [4],
                heroImage: "https://images.unsplash.com/photo-1534188753412-9f0337dbaa52?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 8,
                name: "Canoë en rivière sauvage",
                description: "Descendez une rivière calme en canoë ou kayak à travers des paysages préservés.",
                longDescription: "Une balade paisible en canoë ou kayak sur une rivière aux eaux calmes de Bretagne, idéale pour les débutants et les familles. Vous découvrirez la faune (loutres, hérons) et la flore des berges depuis un point de vue unique. Notre guide naturaliste vous donnera les techniques de base de pagayage et vous racontera l'histoire de la rivière. Pique-nique traditionnel inclus.",
                image: "https://images.unsplash.com/photo-1567593810070-7a5c0925344e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "5h",
                durationValue: 5,
                price: "50€",
                priceValue: 50,
                tags: ["Sport", "Eau", "Détente", "Famille"],
                category: "mer",
                location: "Bretagne",
                popularity: 83,
                difficulty: "Facile",
                minAge: 8,
                included: ["Canoë/kayak", "Gilet de sauvetage", "Guide naturaliste", "Pique-nique"],
                companyIds: [3],
                heroImage: "https://images.unsplash.com/photo-1581873372796-635b67ca2008?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 9,
                name: "Yoga et méditation en forêt",
                description: "Pratiquez le yoga dans un cadre forestier apaisant et ressourçant.",
                longDescription: "Reconnectez-vous à votre corps et à votre esprit lors d'une séance de yoga et méditation en forêt de Provence. Notre professeur certifié adapte la séance à votre niveau, du débutant au pratiquant confirmé. Les postures sont choisies pour harmoniser le corps avec l'environnement naturel. Séance suivie d'une méditation guidée et d'une dégustation de thé aux plantes locales.",
                image: "https://images.unsplash.com/photo-1545389336-cf090382e8e6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                duration: "2h",
                durationValue: 2,
                price: "30€",
                priceValue: 30,
                tags: ["Détente", "Bien-être", "Nature", "Méditation"],
                category: "yoga",
                location: "Provence",
                popularity: 93,
                difficulty: "Tous niveaux",
                minAge: 15,
                included: ["Tapis de yoga", "Professeur certifié", "Thé aux plantes", "Couverture"],
                companyIds: [6],
                heroImage: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 10,
                name: "Via ferrata panoramique",
                description: "Parcourez une via ferrata avec des vues à couper le souffle.",
                longDescription: "Explorez une via ferrata sécurisée avec équipement intégré dans les Alpes. Parcours adapté aux débutants, avec des échelles, ponts de singe et tyroliennes. Vue panoramique exceptionnelle sur la vallée et les sommets environnants. Guide de montagne diplômé, équipement de sécurité fourni. Une expérience unique entre randonnée et escalade.",
                image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
                duration: "4h",
                durationValue: 4,
                price: "65€",
                priceValue: 65,
                tags: ["Aventure", "Montagne", "Adrénaline", "Panorama"],
                category: "randonnee",
                location: "Alpes",
                popularity: 90,
                difficulty: "Débutant",
                minAge: 12,
                included: ["Équipement via ferrata", "Guide de montagne", "Casque", "Assurance"],
                companyIds: [4],
                heroImage: "https://images.unsplash.com/photo-1522163182402-834f871fd851?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            }
        ];

        // Données améliorées des entreprises
        const companies = [
            {
                id: 1,
                name: "Nature Aventure",
                description: "Spécialiste des activités de plein air depuis 15 ans.",
                longDescription: "Nature Aventure est une entreprise familiale créée en 2008. Nous sommes spécialisés dans les activités de montagne et en forêt : randonnée, VTT, bivouac et observation de la faune. Notre équipe de guides diplômés d'État vous garantit des expériences sécurisées, pédagogiques et enrichissantes. Nous accordons une grande importance à la préservation de l'environnement et au respect des écosystèmes. Certifiée entreprise écoresponsable.",
                logo: "https://images.unsplash.com/photo-1561070791-2526d30994b5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                rating: 5,
                reviews: 247,
                specialties: ["Randonnée", "VTT", "Bivouac", "Observation faune"],
                founded: 2008,
                teamSize: 12,
                contact: {
                    email: "contact@nature-aventure.fr",
                    phone: "01 23 45 67 89",
                    address: "12 Rue des Montagnes, 74000 Annecy",
                    website: "www.nature-aventure.fr"
                },
                activityIds: [1, 4, 5, 6],
                gallery: [
                    "https://images.unsplash.com/photo-1551632811-561732d1e306?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1574680088814-c9e8a10d8a4d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1504851149312-7a075b496cc7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                heroImage: "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 2,
                name: "CréaNature",
                description: "Ateliers créatifs en pleine nature.",
                longDescription: "CréaNature propose des ateliers artistiques en immersion totale dans la nature provençale. Fondée par une artiste peintre professionnelle, notre entreprise a pour mission de rendre l'art accessible à tous, dans des lieux inspirants et préservés. Nos ateliers combinent création artistique, connexion avec la nature et développement personnel. Nous utilisons exclusivement des matériaux écologiques et non-toxiques.",
                logo: "https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                rating: 4,
                reviews: 132,
                specialties: ["Peinture", "Aquarelle", "Land Art", "Photographie"],
                founded: 2015,
                teamSize: 5,
                contact: {
                    email: "info@creanature.fr",
                    phone: "04 56 78 90 12",
                    address: "45 Chemin des Artistes, 13100 Aix-en-Provence",
                    website: "www.creanature.fr"
                },
                activityIds: [2],
                gallery: [
                    "https://images.unsplash.com/photo-1544716278-e513176f20b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1515405295579-ba7b45403062?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1545389336-cf090382e8e6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                heroImage: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 3,
                name: "Mer & Découverte",
                description: "Sorties en mer et activités nautiques.",
                longDescription: "Mer & Découverte est une entreprise bretonne familiale spécialisée dans les activités nautiques et la découverte du milieu marin depuis 20 ans. Notre flotte de catamarans et de kayaks vous permet d'explorer les côtes bretonnes en toute sécurité. Nos guides naturalistes diplômés partagent avec passion leurs connaissances sur l'écosystème marin, l'histoire maritime et la protection des océans. Éco-label "Plage Bleue".",
                logo: "https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                rating: 5,
                reviews: 315,
                specialties: ["Voile", "Kayak", "Observation marine", "Pêche responsable"],
                founded: 2003,
                teamSize: 8,
                contact: {
                    email: "contact@mer-decouverte.fr",
                    phone: "02 98 76 54 32",
                    address: "Port de Plaisance, 29000 Brest",
                    website: "www.mer-decouverte.fr"
                },
                activityIds: [3, 8],
                gallery: [
                    "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1567593810070-7a5c0925344e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                heroImage: "https://images.unsplash.com/photo-1506929562872-bb421503ef21?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 4,
                name: "Montagne Expérience",
                description: "Randonnées et activités en montagne toute l'année.",
                longDescription: "Montagne Expérience est une référence dans les activités de montagne depuis 25 ans. Notre équipe de guides de haute montagne vous accompagne été comme hiver pour des expériences inoubliables et sécurisées. Nous mettons un point d'honneur à utiliser du matériel de haute qualité, à respecter les normes de sécurité les plus strictes et à former régulièrement notre équipe. Certifiée "Qualité Tourisme" et "Montagne Responsable".",
                logo: "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                rating: 4,
                reviews: 428,
                specialties: ["Alpinisme", "Escalade", "Ski de randonnée", "Via ferrata"],
                founded: 1998,
                teamSize: 15,
                contact: {
                    email: "info@montagne-experience.fr",
                    phone: "04 50 12 34 56",
                    address: "8 Avenue des Glaciers, 74400 Chamonix",
                    website: "www.montagne-experience.fr"
                },
                activityIds: [1, 5, 7, 10],
                gallery: [
                    "https://images.unsplash.com/photo-1551632811-561732d1e306?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                heroImage: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 5,
                name: "VTT Passion",
                description: "Location et encadrement VTT.",
                longDescription: "VTT Passion est née en 2010 de la passion de deux amis pour le vélo tout terrain. Nous proposons des parcours adaptés à tous les niveaux, des débutants aux experts confirmés, dans les Pyrénées. Notre parc de VTT est renouvelé chaque année avec les dernières technologies pour vous garantir un matériel performant, sécurisé et confortable. Nous organisons également des stages techniques et des raids sur plusieurs jours.",
                logo: "https://images.unsplash.com/photo-1511994717241-8e4f04b8e6d0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                rating: 4,
                reviews: 189,
                specialties: ["VTT descente", "VTT enduro", "VTT électrique", "Stages techniques"],
                founded: 2010,
                teamSize: 6,
                contact: {
                    email: "contact@vtt-passion.fr",
                    phone: "05 61 23 45 67",
                    address: "Route des Forêts, 65100 Lourdes",
                    website: "www.vtt-passion.fr"
                },
                activityIds: [4],
                gallery: [
                    "https://images.unsplash.com/photo-1574680088814-c9e8a10d8a4d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1536240478700-b869070f9279?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                heroImage: "https://images.unsplash.com/photo-1536240478700-b869070f9279?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            },
            {
                id: 6,
                name: "Zen & Nature",
                description: "Activités bien-être en pleine nature.",
                longDescription: "Zen & Nature vous invite depuis 2012 à ralentir et à vous reconnecter avec vous-même au cœur de la nature provençale. Nos instructeurs certifiés en yoga, méditation, sophrologie et sylvothérapie vous accompagnent dans des pratiques adaptées à vos besoins. Nous organisons également des retraites bien-être, des ateliers de respiration consciente et des bains de forêt (shinrin-yoku). Approche holistique et personnalisée.",
                logo: "https://images.unsplash.com/photo-1593811167562-9cef47bfc4d7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                rating: 5,
                reviews: 174,
                specialties: ["Yoga", "Méditation", "Sylvothérapie", "Retraites bien-être"],
                founded: 2012,
                teamSize: 4,
                contact: {
                    email: "zen@zen-nature.fr",
                    phone: "04 84 56 78 90",
                    address: "Mas des Oliviers, 84210 Pernes-les-Fontaines",
                    website: "www.zen-nature.fr"
                },
                activityIds: [9],
                gallery: [
                    "https://images.unsplash.com/photo-1545389336-cf090382e8e6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1487730116645-74489c95b41b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                heroImage: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
            }
        ];

        // Données de la galerie
        const galleryItems = [
            {
                id: 1,
                image: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Coucher de soleil en montagne",
                category: "Nature"
            },
            {
                id: 2,
                image: "https://images.unsplash.com/photo-1515405295579-ba7b45403062?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Atelier de peinture en forêt",
                category: "Créatif"
            },
            {
                id: 3,
                image: "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Balade en mer",
                category: "Aventure"
            },
            {
                id: 4,
                image: "https://images.unsplash.com/photo-1534088568595-a066f410bcda?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Descente en VTT",
                category: "Sport"
            },
            {
                id: 5,
                image: "https://images.unsplash.com/photo-1487730116645-74489c95b41b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Camping sous les étoiles",
                category: "Aventure"
            },
            {
                id: 6,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Observation des oiseaux",
                category: "Nature"
            },
            {
                id: 7,
                image: "https://images.unsplash.com/photo-1534188753412-9f0337dbaa52?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Escalade en falaise",
                category: "Sport"
            },
            {
                id: 8,
                image: "https://images.unsplash.com/photo-1581873372796-635b67ca2008?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                title: "Canoë-kayak en rivière",
                category: "Détente"
            },
            {
                id: 9,
                image: "https://images.unsplash.com/photo-1522163182402-834f871fd851?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
                title: "Via ferrata panoramique",
                category: "Aventure"
            },
            {
                id: 10,
                image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
                title: "Sommet alpin",
                category: "Nature"
            }
        ];

        // Variables globales
        let currentPage = 'home';
        let currentFilteredActivities = [...activities];
        let currentFilteredCompanies = [...companies];
        let currentSort = 'popularity';
        let favoriteActivities = JSON.parse(localStorage.getItem('mveng_favorites')) || [];
        let darkMode = localStorage.getItem('mveng_darkmode') === 'true' || 
                      (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Appliquer le mode sombre si nécessaire
            if (darkMode) {
                document.documentElement.classList.add('dark-mode');
                document.getElementById('themeToggle')?.classList.add('active');
            }
            
            // Afficher les données initiales
            displayFeaturedActivities();
            displayAllActivities();
            displayAllCompanies();
            displayGallery();
            
            // Initialiser le slider de témoignages
            initTestimonialSlider();
            
            // Gestionnaires d'événements
            setupEventListeners();
            
            // Vérifier le scroll pour le bouton "scroll to top"
            window.addEventListener('scroll', handleScroll);
            
            // Afficher une notification de bienvenue
            setTimeout(() => {
                showNotification('Bienvenue sur mveng !', 'Découvrez nos activités en pleine nature 🌿');
            }, 1000);
        });

        // Navigation entre pages
        function navigateToPage(pageId) {
            // Masquer la page actuelle
            const currentPageElement = document.getElementById(currentPage + 'Page');
            if (currentPageElement) {
                currentPageElement.classList.remove('active');
            }
            
            // Mettre à jour la navigation
            updateNavigation(pageId);
            
            // Afficher la nouvelle page
            setTimeout(() => {
                const newPageElement = document.getElementById(pageId + 'Page');
                if (newPageElement) {
                    newPageElement.classList.add('active');
                }
                
                // Mettre à jour la page courante
                currentPage = pageId;
                
                // Remonter en haut de la page
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Fermer le menu mobile si ouvert
                closeMobileMenu();
            }, 10);
        }

        // Mettre à jour la navigation active
        function updateNavigation(pageId) {
            // Mettre à jour les liens du menu
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('active');
                }
            });
        }

        // Afficher les activités en vedette
        function displayFeaturedActivities() {
            const grid = document.getElementById('featuredActivities');
            if (!grid) return;
            
            const featured = activities.filter(a => a.featured).slice(0, 3);
            
            grid.innerHTML = '';
            featured.forEach(activity => {
                grid.appendChild(createActivityCard(activity));
            });
        }

        // Afficher toutes les activités
        function displayAllActivities() {
            const grid = document.getElementById('allActivitiesGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            if (currentFilteredActivities.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <h3>Aucune activité trouvée</h3>
                        <p>Essayez de modifier vos critères de recherche ou consultez toutes nos activités.</p>
                        <button class="btn btn-outline" onclick="resetFilters()" style="margin-top: 1rem;">
                            <i class="fas fa-redo"></i> Réinitialiser les filtres
                        </button>
                    </div>
                `;
                return;
            }
            
            currentFilteredActivities.forEach(activity => {
                grid.appendChild(createActivityCard(activity));
            });
            
            // Mettre à jour le compteur
            updateResultsCount();
        }

        // Créer une carte d'activité améliorée
        function createActivityCard(activity) {
            const card = document.createElement('div');
            card.className = 'activity-card';
            
            const isFavorite = favoriteActivities.includes(activity.id);
            
            // Déterminer le badge en fonction de la popularité
            let badge = '';
            if (activity.popularity >= 95) {
                badge = '<div class="card-badge">Top</div>';
            } else if (activity.featured) {
                badge = '<div class="card-badge" style="background: linear-gradient(135deg, #8FD19E, #2B7A4B);">Vedette</div>';
            }
            
            card.innerHTML = `
                ${badge}
                <div class="card-img-container">
                    <img src="${activity.image}" alt="${activity.name}" class="card-img" loading="lazy">
                </div>
                <div class="card-content">
                    <h3 class="card-title">${activity.name}</h3>
                    <p class="card-description">${activity.description}</p>
                    
                    <div class="card-meta">
                        <div class="card-duration">
                            <i class="fas fa-clock"></i> ${activity.duration}
                        </div>
                        <div class="card-location">
                            <i class="fas fa-map-marker-alt"></i> ${activity.location}
                        </div>
                        <div class="card-price">
                            <i class="fas fa-euro-sign"></i> ${activity.price}
                        </div>
                    </div>
                    
                    <div class="card-tags">
                        ${activity.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    
                    <div class="card-footer">
                        <button class="card-btn" data-activity-id="${activity.id}">
                            <i class="fas fa-arrow-right"></i> Détails
                        </button>
                        <button class="card-favorite ${isFavorite ? 'active' : ''}" data-activity-id="${activity.id}" title="${isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris'}">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                </div>
            `;
            
            // Ajouter les événements
            const detailBtn = card.querySelector('.card-btn');
            detailBtn.addEventListener('click', () => {
                showActivityDetail(activity.id);
            });
            
            const favoriteBtn = card.querySelector('.card-favorite');
            favoriteBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                toggleFavorite(activity.id, this);
            });
            
            return card;
        }

        // Afficher toutes les entreprises
        function displayAllCompanies() {
            const grid = document.getElementById('allCompaniesGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            currentFilteredCompanies.forEach(company => {
                grid.appendChild(createCompanyCard(company));
            });
        }

        // Créer une carte d'entreprise améliorée
        function createCompanyCard(company) {
            const card = document.createElement('div');
            card.className = 'company-card';
            
            // Générer les étoiles
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= company.rating) {
                    stars += '<i class="fas fa-star"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            
            card.innerHTML = `
                <div class="company-logo-container">
                    <img src="${company.logo}" alt="Logo ${company.name}" class="company-logo" loading="lazy">
                </div>
                <h3 class="company-name">${company.name}</h3>
                <p class="company-description">${company.description}</p>
                
                <div class="company-rating">
                    ${stars}
                    <span style="font-size: 0.9rem; color: var(--text-gray); margin-left: 0.5rem;">
                        (${company.reviews} avis)
                    </span>
                </div>
                
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; margin: 1.5rem 0;">
                    ${company.specialties.map(spec => `<span class="tag">${spec}</span>`).join('')}
                </div>
                
                <button class="btn btn-outline" data-company-id="${company.id}" style="width: 100%;">
                    <i class="fas fa-arrow-right"></i> Voir les activités
                </button>
            `;
            
            // Ajouter l'événement au bouton
            const btn = card.querySelector('button[data-company-id]');
            btn.addEventListener('click', () => {
                showCompanyDetail(company.id);
            });
            
            return card;
        }

        // Afficher la galerie
        function displayGallery() {
            const grid = document.getElementById('galleryGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            galleryItems.forEach(item => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" class="gallery-img" loading="lazy">
                    <div class="gallery-overlay">
                        <h4 class="gallery-title">${item.title}</h4>
                        <p class="gallery-category">${item.category}</p>
                    </div>
                `;
                grid.appendChild(galleryItem);
            });
        }

        // Afficher le détail d'une activité amélioré
        function showActivityDetail(activityId) {
            const activity = activities.find(a => a.id === activityId);
            if (!activity) return;
            
            // Trouver les entreprises qui proposent cette activité
            const activityCompanies = companies.filter(company => 
                activity.companyIds.includes(company.id)
            );
            
            // Mettre à jour l'image du header
            const heroImage = document.getElementById('activityHeroImage');
            heroImage.innerHTML = `<img src="${activity.heroImage || activity.image}" alt="${activity.name}" class="profile-hero-img" loading="lazy">`;
            
            const profile = document.getElementById('activityProfile');
            
            // Générer les cartes d'entreprises
            const companyCards = activityCompanies.map(company => {
                let stars = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= company.rating) {
                        stars += '<i class="fas fa-star"></i>';
                    } else {
                        stars += '<i class="far fa-star"></i>';
                    }
                }
                
                return `
                    <div class="partner-card">
                        <img src="${company.logo}" alt="Logo ${company.name}" class="partner-logo" loading="lazy">
                        <div class="partner-info">
                            <h4>${company.name}</h4>
                            <p>${company.description}</p>
                            <div style="color: #FFC107; display: flex; align-items: center; gap: 0.5rem;">
                                ${stars}
                                <span style="font-size: 0.9rem; color: var(--text-gray);">
                                    (${company.reviews} avis)
                                </span>
                            </div>
                        </div>
                        <button class="btn btn-small btn-primary" data-company-id="${company.id}">
                            Voir
                        </button>
                    </div>
                `;
            }).join('');
            
            // Générer la liste des inclus
            const includedList = activity.included.map(item => 
                `<li><i class="fas fa-check" style="color: var(--primary-green);"></i> ${item}</li>`
            ).join('');
            
            profile.innerHTML = `
                <h1 class="profile-title">${activity.name}</h1>
                <div class="profile-meta">
                    <div><i class="fas fa-clock"></i> ${activity.duration}</div>
                    <div><i class="fas fa-euro-sign"></i> ${activity.price}</div>
                    <div><i class="fas fa-map-marker-alt"></i> ${activity.location}</div>
                    <div><i class="fas fa-signal"></i> ${activity.difficulty}</div>
                    <div><i class="fas fa-user"></i> À partir de ${activity.minAge} ans</div>
                </div>
                
                <div class="profile-description">
                    <p>${activity.longDescription}</p>
                    <div class="card-tags" style="margin-top: 1.5rem;">
                        ${activity.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3 class="profile-section-title">
                        <i class="fas fa-clipboard-check"></i> Ce qui est inclus
                    </h3>
                    <ul style="list-style: none; padding: 0; margin: 1.5rem 0;">
                        ${includedList}
                    </ul>
                </div>
                
                <div class="profile-section">
                    <button class="btn btn-primary" id="bookActivityBtn" data-activity-id="${activity.id}" style="width: 100%; margin-bottom: 2rem;">
                        <i class="fas fa-calendar-alt"></i> Réserver cette activité
                    </button>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-outline" id="addToFavoritesBtn" data-activity-id="${activity.id}" style="flex: 1;">
                            <i class="fas fa-heart"></i> Ajouter aux favoris
                        </button>
                        <button class="btn btn-outline" onclick="shareActivity(${activity.id})" style="flex: 1;">
                            <i class="fas fa-share-alt"></i> Partager
                        </button>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3 class="profile-section-title">
                        <i class="fas fa-building"></i> Organisateurs
                    </h3>
                    <div class="partner-grid">
                        ${companyCards}
                    </div>
                </div>
            `;
            
            // Naviguer vers la page de détail
            navigateToPage('activityDetail');
            
            // Ajouter l'événement au bouton de retour
            document.getElementById('backFromActivityDetail').addEventListener('click', () => {
                navigateToPage('activities');
            });
            
            // Ajouter les événements aux boutons "Voir l'entreprise"
            document.querySelectorAll('.partner-card .btn[data-company-id]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const companyId = parseInt(this.getAttribute('data-company-id'));
                    showCompanyDetail(companyId);
                });
            });
            
            // Ajouter l'événement au bouton de réservation
            const bookBtn = document.getElementById('bookActivityBtn');
            if (bookBtn) {
                bookBtn.addEventListener('click', function() {
                    openBookingModal(activity);
                });
            }
            
            // Ajouter l'événement au bouton favori
            const favoriteBtn = document.getElementById('addToFavoritesBtn');
            if (favoriteBtn) {
                const isFavorite = favoriteActivities.includes(activity.id);
                favoriteBtn.innerHTML = isFavorite ? 
                    '<i class="fas fa-heart"></i> Retirer des favoris' : 
                    '<i class="fas fa-heart"></i> Ajouter aux favoris';
                
                favoriteBtn.addEventListener('click', function() {
                    toggleFavorite(activity.id, favoriteBtn);
                    this.innerHTML = favoriteActivities.includes(activity.id) ? 
                        '<i class="fas fa-heart"></i> Retirer des favoris' : 
                        '<i class="fas fa-heart"></i> Ajouter aux favoris';
                });
            }
        }

        // Afficher le détail d'une entreprise amélioré
        function showCompanyDetail(companyId) {
            const company = companies.find(c => c.id === companyId);
            if (!company) return;
            
            // Trouver les activités proposées par cette entreprise
            const companyActivities = activities.filter(activity => 
                company.activityIds.includes(activity.id)
            );
            
            // Mettre à jour l'image du header
            const heroImage = document.getElementById('companyHeroImage');
            heroImage.innerHTML = `<img src="${company.heroImage || company.logo}" alt="${company.name}" class="profile-hero-img" loading="lazy">`;
            
            const profile = document.getElementById('companyProfile');
            
            // Générer les étoiles
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= company.rating) {
                    stars += '<i class="fas fa-star"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            
            // Générer les cartes d'activités
            const activityCards = companyActivities.map(activity => `
                <div class="activity-card" style="margin-bottom: 1.5rem;">
                    <div class="card-img-container">
                        <img src="${activity.image}" alt="${activity.name}" class="card-img" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">${activity.name}</h3>
                        <p class="card-description">${activity.description}</p>
                        <div class="card-meta">
                            <div class="card-duration">
                                <i class="fas fa-clock"></i> ${activity.duration}
                            </div>
                            <div class="card-price">
                                <i class="fas fa-euro-sign"></i> ${activity.price}
                            </div>
                        </div>
                        <div class="card-btn" data-activity-id="${activity.id}">
                            <i class="fas fa-arrow-right"></i> Détails
                        </div>
                    </div>
                </div>
            `).join('');
            
            profile.innerHTML = `
                <h1 class="profile-title">${company.name}</h1>
                <div class="profile-meta">
                    <div style="color: #FFC107; display: flex; align-items: center; gap: 0.5rem;">
                        ${stars}
                        <span style="font-size: 0.9rem; color: var(--text-gray);">
                            ${company.rating}/5 (${company.reviews} avis)
                        </span>
                    </div>
                    <div><i class="fas fa-hiking"></i> ${companyActivities.length} activités</div>
                    <div><i class="fas fa-calendar-alt"></i> Depuis ${company.founded}</div>
                    <div><i class="fas fa-users"></i> ${company.teamSize} guides</div>
                </div>
                
                <div class="profile-description">
                    <p>${company.longDescription}</p>
                    
                    <div style="margin-top: 2rem;">
                        <h4 style="margin-bottom: 1rem; color: var(--dark-gray);">Spécialités</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            ${company.specialties.map(spec => `<span class="tag">${spec}</span>`).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3 class="profile-section-title">
                        <i class="fas fa-address-card"></i> Contact
                    </h3>
                    <div class="contact-grid">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <div style="font-weight: 500; color: var(--dark-gray);">Email</div>
                                <div>${company.contact.email}</div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <div style="font-weight: 500; color: var(--dark-gray);">Téléphone</div>
                                <div>${company.contact.phone}</div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <div style="font-weight: 500; color: var(--dark-gray);">Adresse</div>
                                <div>${company.contact.address}</div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-globe"></i>
                            <div>
                                <div style="font-weight: 500; color: var(--dark-gray);">Site web</div>
                                <div>${company.contact.website}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3 class="profile-section-title">
                        <i class="fas fa-hiking"></i> Activités proposées
                    </h3>
                    <div class="grid">
                        ${activityCards}
                    </div>
                </div>
            `;
            
            // Naviguer vers la page de détail
            navigateToPage('companyDetail');
            
            // Ajouter l'événement au bouton de retour
            document.getElementById('backFromCompanyDetail').addEventListener('click', () => {
                navigateToPage('companies');
            });
            
            // Ajouter les événements aux boutons "Détails" des activités
            document.querySelectorAll('.activity-card .card-btn[data-activity-id]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const activityId = parseInt(this.getAttribute('data-activity-id'));
                    showActivityDetail(activityId);
                });
            });
        }

        // Recherche et filtrage amélioré
        function filterActivities() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            const typeFilter = document.getElementById('type').value;
            const durationFilter = document.getElementById('duree').value;
            const priceFilter = document.getElementById('prix').value;
            const locationFilter = document.getElementById('localisation').value;
            
            currentFilteredActivities = activities.filter(activity => {
                // Filtre par recherche
                const matchesSearch = searchTerm === '' || 
                    activity.name.toLowerCase().includes(searchTerm) ||
                    activity.description.toLowerCase().includes(searchTerm) ||
                    activity.tags.some(tag => tag.toLowerCase().includes(searchTerm)) ||
                    activity.location.toLowerCase().includes(searchTerm);
                
                // Filtre par type
                const matchesType = typeFilter === '' || activity.category === typeFilter;
                
                // Filtre par durée
                let matchesDuration = true;
                if (durationFilter !== '') {
                    const durationValue = activity.durationValue;
                    if (durationFilter === '2') {
                        matchesDuration = durationValue < 4;
                    } else if (durationFilter === '4') {
                        matchesDuration = durationValue >= 4 && durationValue < 8;
                    } else if (durationFilter === '8') {
                        matchesDuration = durationValue >= 8;
                    }
                }
                
                // Filtre par prix
                let matchesPrice = true;
                if (priceFilter !== '') {
                    const priceValue = activity.priceValue;
                    const filterValue = parseInt(priceFilter);
                    
                    if (filterValue === 20) {
                        matchesPrice = priceValue < 20;
                    } else if (filterValue === 50) {
                        matchesPrice = priceValue >= 20 && priceValue <= 50;
                    } else if (filterValue === 100) {
                        matchesPrice = priceValue >= 50 && priceValue <= 100;
                    } else if (filterValue === 101) {
                        matchesPrice = priceValue > 100;
                    }
                }
                
                // Filtre par localisation
                const matchesLocation = locationFilter === '' || 
                    activity.location.toLowerCase().includes(locationFilter.toLowerCase());
                
                return matchesSearch && matchesType && matchesDuration && matchesPrice && matchesLocation;
            });
            
            // Filtrer les entreprises en fonction des activités
            filterCompaniesByActivities(currentFilteredActivities);
            
            // Trier les résultats
            sortActivities(currentSort);
            
            // Afficher les résultats
            displayAllActivities();
            
            // Mettre à jour le compteur sur la page d'accueil
            updateResultsCount();
        }

        // Filtrer les entreprises en fonction des activités affichées
        function filterCompaniesByActivities(filteredActivities) {
            // Récupérer tous les IDs d'entreprises des activités filtrées
            const companyIdsFromActivities = new Set();
            filteredActivities.forEach(activity => {
                activity.companyIds.forEach(id => companyIdsFromActivities.add(id));
            });
            
            // Filtrer les entreprises
            currentFilteredCompanies = companies.filter(company => 
                companyIdsFromActivities.has(company.id)
            );
        }

        // Trier les activités
        function sortActivities(sortType) {
            currentSort = sortType;
            
            switch(sortType) {
                case 'price-asc':
                    currentFilteredActivities.sort((a, b) => a.priceValue - b.priceValue);
                    break;
                case 'price-desc':
                    currentFilteredActivities.sort((a, b) => b.priceValue - a.priceValue);
                    break;
                case 'duration':
                    currentFilteredActivities.sort((a, b) => a.durationValue - b.durationValue);
                    break;
                case 'popularity':
                default:
                    currentFilteredActivities.sort((a, b) => b.popularity - a.popularity);
                    break;
            }
        }

        // Mettre à jour le compteur de résultats
        function updateResultsCount() {
            const resultsNumber = document.getElementById('resultsNumber');
            const activitiesNumber = document.getElementById('activitiesNumber');
            const resultsCount = document.getElementById('resultsCount');
            const activitiesResultsCount = document.getElementById('activitiesResultsCount');
            
            const count = currentFilteredActivities.length;
            
            if (resultsNumber) resultsNumber.textContent = count;
            if (activitiesNumber) activitiesNumber.textContent = count;
            
            if (resultsCount) {
                resultsCount.innerHTML = `<i class="fas fa-search"></i> ${count} activité${count !== 1 ? 's' : ''} disponible${count !== 1 ? 's' : ''}`;
            }
            
            if (activitiesResultsCount) {
                activitiesResultsCount.innerHTML = `<i class="fas fa-hiking"></i> ${count} activité${count !== 1 ? 's' : ''} disponible${count !== 1 ? 's' : ''}`;
            }
        }

        // Réinitialiser les filtres
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('type').value = '';
            document.getElementById('duree').value = '';
            document.getElementById('prix').value = '';
            document.getElementById('localisation').value = '';
            
            // Réinitialiser les boutons de tri
            document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.sort-btn[data-sort="popularity"]').classList.add('active');
            
            currentSort = 'popularity';
            currentFilteredActivities = [...activities];
            currentFilteredCompanies = [...companies];
            
            displayAllActivities();
            updateResultsCount();
            
            showNotification('Filtres réinitialisés', 'Toutes les activités sont à nouveau visibles');
        }

        // Basculer le favori
        function toggleFavorite(activityId, button) {
            const index = favoriteActivities.indexOf(activityId);
            
            if (index === -1) {
                // Ajouter aux favoris
                favoriteActivities.push(activityId);
                if (button) {
                    button.classList.add('active');
                    button.setAttribute('title', 'Retirer des favoris');
                }
                showNotification('Activité ajoutée aux favoris', 'Retrouvez-la dans votre liste');
            } else {
                // Retirer des favoris
                favoriteActivities.splice(index, 1);
                if (button) {
                    button.classList.remove('active');
                    button.setAttribute('title', 'Ajouter aux favoris');
                }
                showNotification('Activité retirée des favoris', 'Elle a été supprimée de votre liste');
            }
            
            // Sauvegarder dans le localStorage
            localStorage.setItem('mveng_favorites', JSON.stringify(favoriteActivities));
        }

        // Partager une activité
        function shareActivity(activityId) {
            const activity = activities.find(a => a.id === activityId);
            if (!activity) return;
            
            const shareUrl = `${window.location.origin}#activity-${activityId}`;
            const shareText = `Découvrez "${activity.name}" sur mveng : ${activity.description}`;
            
            if (navigator.share) {
                navigator.share({
                    title: activity.name,
                    text: shareText,
                    url: shareUrl
                });
            } else {
                // Fallback pour les navigateurs qui ne supportent pas l'API Web Share
                navigator.clipboard.writeText(`${shareText}\n${shareUrl}`).then(() => {
                    showNotification('Lien copié !', 'Le lien a été copié dans le presse-papier');
                });
            }
        }

        // Ouvrir le modal de réservation
        function openBookingModal(activity) {
            const modal = document.getElementById('bookingModal');
            const title = document.getElementById('bookingActivityTitle');
            const form = document.getElementById('bookingForm');
            
            if (!modal || !title) return;
            
            title.textContent = `Réserver : ${activity.name}`;
            
            // Configurer la date minimale (demain)
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const minDate = tomorrow.toISOString().split('T')[0];
            document.getElementById('bookingDate').min = minDate;
            
            // Réinitialiser le formulaire
            form.reset();
            
            // Afficher le modal
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Gérer la soumission du formulaire
            form.onsubmit = function(e) {
                e.preventDefault();
                
                // Simulation d'envoi
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Traitement...';
                submitBtn.disabled = true;
                
                setTimeout(() => {
                    closeBookingModal();
                    showNotification('Réservation envoyée !', `Vous recevrez un email de confirmation pour "${activity.name}"`);
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }, 2000);
            };
        }

        // Fermer le modal de réservation
        function closeBookingModal() {
            const modal = document.getElementById('bookingModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        // Afficher une notification
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notificationTitle');
            const notificationMessage = document.getElementById('notificationMessage');
            
            if (!notification || !notificationTitle || !notificationMessage) return;
            
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // Gérer le scroll
        function handleScroll() {
            const scrollTop = document.getElementById('scrollTop');
            if (window.scrollY > 500) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        }

        // Initialiser le slider de témoignages
        function initTestimonialSlider() {
            // Simple implementation - could be enhanced with Swiper.js
            const testimonialCards = document.querySelectorAll('.testimonial-card');
            if (testimonialCards.length > 1) {
                let currentIndex = 0;
                
                setInterval(() => {
                    testimonialCards.forEach(card => card.style.opacity = '0');
                    testimonialCards[currentIndex].style.opacity = '1';
                    currentIndex = (currentIndex + 1) % testimonialCards.length;
                }, 5000);
            }
        }

        // Basculer le mode sombre/clair
        function toggleDarkMode() {
            darkMode = !darkMode;
            
            if (darkMode) {
                document.documentElement.classList.add('dark-mode');
                document.getElementById('themeToggle').classList.add('active');
                localStorage.setItem('mveng_darkmode', 'true');
            } else {
                document.documentElement.classList.remove('dark-mode');
                document.getElementById('themeToggle').classList.remove('active');
                localStorage.setItem('mveng_darkmode', 'false');
            }
        }

        // Fermer le menu mobile
        function closeMobileMenu() {
            const navMenu = document.getElementById('nav-menu');
            const hamburger = document.getElementById('hamburger');
            
            if (navMenu && hamburger) {
                navMenu.classList.remove('active');
                hamburger.classList.remove('active');
            }
        }

        // Configuration des événements améliorée
        function setupEventListeners() {
            // Menu hamburger
            const hamburger = document.getElementById('hamburger');
            const navMenu = document.getElementById('nav-menu');
            
            hamburger.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                hamburger.classList.toggle('active');
            });
            
            // Navigation par liens
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    navigateToPage(page);
                });
            });
            
            // Logo pour retour à l'accueil
            document.getElementById('homeLogo').addEventListener('click', () => {
                navigateToPage('home');
            });
            
            // Boutons de navigation dans le contenu
            document.querySelectorAll('button[data-page]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const page = this.getAttribute('data-page');
                    navigateToPage(page);
                });
            });
            
            // Barre de recherche
            const searchBtn = document.getElementById('searchBtn');
            const searchInput = document.getElementById('searchInput');
            
            if (searchBtn) {
                searchBtn.addEventListener('click', filterActivities);
            }
            
            if (searchInput) {
                searchInput.addEventListener('keyup', function(e) {
                    if (e.key === 'Enter') {
                        filterActivities();
                    }
                });
                
                // Recherche en temps réel avec debounce
                let searchTimeout;
                searchInput.addEventListener('input', function() {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(filterActivities, 300);
                });
            }
            
            // Filtres
            document.querySelectorAll('.filter-select').forEach(select => {
                select.addEventListener('change', filterActivities);
            });
            
            // Boutons de tri
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const sortType = this.getAttribute('data-sort');
                    sortActivities(sortType);
                    displayAllActivities();
                });
            });
            
            // Liens du footer
            document.querySelectorAll('.footer-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    navigateToPage(page);
                });
            });
            
            // Filtres par catégorie dans le footer
            document.querySelectorAll('a[data-filter]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const filter = this.getAttribute('data-filter');
                    
                    navigateToPage('activities');
                    
                    // Appliquer le filtre après un délai
                    setTimeout(() => {
                        const typeSelect = document.getElementById('type');
                        if (typeSelect) {
                            typeSelect.value = filter;
                            filterActivities();
                        }
                    }, 100);
                });
            });
            
            // Formulaire de contact
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Animation de succès
                    const submitBtn = this.querySelector('button[type="submit"]');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
                    submitBtn.disabled = true;
                    
                    // Simulation d'envoi
                    setTimeout(() => {
                        this.reset();
                        submitBtn.innerHTML = '<i class="fas fa-check"></i> Message envoyé !';
                        
                        setTimeout(() => {
                            submitBtn.innerHTML = originalText;
                            submitBtn.disabled = false;
                            showNotification('Message envoyé !', 'Nous vous répondrons dans les plus brefs délais.');
                        }, 2000);
                    }, 1500);
                });
            }
            
            // Modal de réservation
            document.getElementById('closeBookingModal')?.addEventListener('click', closeBookingModal);
            document.getElementById('bookingModal')?.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeBookingModal();
                }
            });
            
            // Scroll to top
            document.getElementById('scrollTop')?.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Theme toggle
            document.getElementById('themeToggle')?.addEventListener('click', toggleDarkMode);
            
            // Newsletter
            const newsletterBtn = document.querySelector('.newsletter-btn');
            if (newsletterBtn) {
                newsletterBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const input = this.previousElementSibling;
                    if (input.value && input.value.includes('@')) {
                        input.value = '';
                        showNotification('Inscription réussie !', 'Merci de vous être abonné à notre newsletter.');
                    }
                });
            }
            
            // Fermer le menu au clic en dehors
            document.addEventListener('click', function(e) {
                const navMenu = document.getElementById('nav-menu');
                const hamburger = document.getElementById('hamburger');
                
                if (navMenu?.classList.contains('active') && 
                    !navMenu.contains(e.target) && 
                    !hamburger.contains(e.target)) {
                    closeMobileMenu();
                }
            });
            
            // Animation au défilement pour le header
            window.addEventListener('scroll', function() {
                const header = document.querySelector('header');
                if (window.scrollY > 50) {
                    header.style.boxShadow = 'var(--shadow)';
                    header.style.padding = '0.5rem 0';
                } else {
                    header.style.boxShadow = 'var(--shadow-light)';
                    header.style.padding = '1rem 0';
                }
            });
            
            // Gérer la touche Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeBookingModal();
                    closeMobileMenu();
                }
            });
            
            // Lazy loading pour les images
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('skeleton');
                            imageObserver.unobserve(img);
                        }
                    });
                });
                
                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        }
    </script>
</body>
</html>
